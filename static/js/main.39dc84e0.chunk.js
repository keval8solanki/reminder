(this.webpackJsonpreminder=this.webpackJsonpreminder||[]).push([[0],{245:function(e,a,t){e.exports=t.p+"static/media/logout.d463c225.svg"},267:function(e,a,t){e.exports=t(461)},456:function(e,a,t){},457:function(e,a,t){},458:function(e,a,t){},459:function(e,a,t){},461:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(12),i=t.n(o),l=t(42),c=t(41),s=t(244),d=t(79),u=t(164),m=t(117),v=t.n(m);t(451),t(454);v.a.initializeApp({apiKey:"AIzaSyBA9QoYiTBwsIhJ8_1Pzeqx9qQkePN_LkU",authDomain:"quarks-d4245.firebaseapp.com",databaseURL:"https://quarks-d4245.firebaseio.com",projectId:"quarks-d4245",storageBucket:"quarks-d4245.appspot.com",messagingSenderId:"99556385294",appId:"1:99556385294:web:202f667efcb4540cc1525f"}),v.a.firestore().settings({timestampsInSnapshots:!0});var g=v.a,h=(t(456),t(457),t(29)),E=t(27);t(458);var b=t(245),p=t.n(b),O=t(247),f=t(493),y=t(499),C=t(497),j=t(495),w=t(17),R=t(496),N=t(118);var S=Object(c.b)(e=>({isCreated:e.inputReducer.isCreated}),e=>({logoutClicked:()=>e((e,a,{getFirebase:t,getFirestore:r})=>{t().auth().signOut().then(()=>{e({type:"LOGOUT"})})}),createReminderHandler:a=>{return e((t=a,(e,a,{getFirebase:r,getFirestore:n})=>{const o=n(),i=r().auth().currentUser.uid;o.collection(i).add(Object(E.a)({},t)).then(()=>{console.log("Added"),e({type:"REMINDER_CREATED_SUCCESS"})}).catch(e=>{console.log("ERROR_CREATING_REMINDER")})}));var t},isNotCreated:()=>e({type:"NOT_CREATED"})}))(e=>{const a={value:"",valid:!1},t=Object(r.useState)(z(new Date)),o=Object(h.a)(t,2),i=o[0],l=o[1],c=Object(r.useState)(a),s=Object(h.a)(c,2),d=s[0],u=s[1],m=Object(r.useState)(a),v=Object(h.a)(m,2),g=v[0],E=v[1],b=Object(r.useState)(!1),S=Object(h.a)(b,2),k=S[0],A=S[1],I=Object(r.useState)(a),U=Object(h.a)(I,2),L=U[0],D=U[1],_=Object(r.useState)(a),T=Object(h.a)(_,2),F=T[0],x=T[1],K=Object(r.useState)({value:"0",valid:!0}),B=Object(h.a)(K,2),G=B[0],P=B[1];function z(e){let a=e.toDateString().split(" ");return a.shift(),a.join("-")}function W(){let e=[];return L.valid&&q(e,L),F.valid&&q(e,F),G.valid&&q(e,G),e.sort(),e}function q(e,a){return e.push(parseInt(a.value))}function H(e,a){A(!1);const t=e.target.value,r=""!==t;var n;a({value:(n=t,n.charAt(0).toUpperCase()+n.slice(1)),valid:r})}Object(r.useEffect)(()=>(e.isCreated&&N.ToastsStore.success("Reminder Created"),()=>{e.isNotCreated()}),[e.isCreated]);const M=()=>d.valid&&g.valid&&(L.valid||F.valid||G.valid)&&"Date"!==i,J=(e,a,t)=>{const r=!a.valid;t({value:e.target.value,valid:r})},Q=e=>{13===(e.keyCode||e.which)&&(e.preventDefault(),M()&&$())},Z=()=>{A(!1),u(a),E(a),D(a),x(a),l(z(new Date))},$=()=>{A(!0),console.log(i),console.log(typeof i);let a={reminderFor:d.value,associateName:g.value,eventDate:i,reminders:W()};e.createReminderHandler(a),Z()};return n.a.createElement("div",{className:"inputForm-main-div"},n.a.createElement(N.ToastsContainer,{store:N.ToastsStore}),n.a.createElement("div",{className:"title-div"},n.a.createElement("h2",{className:"title-login"},"Reminder"),n.a.createElement("button",{onClick:e.logoutClicked,className:"logout-button",style:{backgroundImage:"url(".concat(p.a,")")}})),n.a.createElement("form",{className:"input-form"},n.a.createElement(C.a,{onKeyUp:Q,error:!d.valid&&k,value:d.value,onChange:e=>H(e,u),name:"reminderFor",id:"outlined-basic",label:"Reminder For",variant:"outlined"}),n.a.createElement(C.a,{onKeyUp:Q,error:!g.valid&&k,onChange:e=>H(e,E),value:g.value,name:"associatedName",id:"outlined-basic",label:"Associated Name ",variant:"outlined"}),n.a.createElement(w.a,{utils:O.a},n.a.createElement(R.a,{margin:"normal",id:"date-picker-dialog",label:"Event Date",format:"MM-dd-yyyy",value:i,onChange:e=>l(z(e)),KeyboardButtonProps:{"aria-label":"change date"}})),n.a.createElement("div",{className:"checkbox-div"},n.a.createElement("h4",{className:"checkbox-title"},"When do you want us to remind you?"),n.a.createElement(j.a,{onKeyUp:Q,onChange:e=>J(e,L,D),checked:L.valid,value:"7",control:n.a.createElement(y.a,{color:"primary"}),label:"7 Days Before",labelPlacement:"left"}),n.a.createElement(j.a,{onKeyUp:Q,onChange:e=>J(e,F,x),checked:F.valid,value:"3",control:n.a.createElement(y.a,{color:"primary"}),label:"3 Days Before",labelPlacement:"left"}),n.a.createElement(j.a,{onKeyUp:Q,onChange:e=>J(e,G,P),checked:G.valid,value:"0",control:n.a.createElement(y.a,{color:"primary"}),label:"On the event day",labelPlacement:"left"})),n.a.createElement("div",{className:"button-div"},n.a.createElement(f.a,{disabled:!M(),onClick:$,style:{marginRight:"10px"},variant:"contained",color:"primary"},"Create Reminder"),n.a.createElement(f.a,{onClick:Z,variant:"contained",color:"secondary"},"Clear"))))}),k=(t(459),t(501));var A=Object(c.b)(e=>({authError:e.authReducer.authError}),e=>({loginHandler:a=>{return e((t=a,(e,a,{getFirebase:r,getFirestore:n})=>{r().auth().signInWithEmailAndPassword(t.email,t.password).then(()=>{e({type:"LOGIN_SUCCESS"})}).catch(a=>{e({type:"LOGIN_ERROR",err:a})})}));var t},noAuthError:()=>e({type:"NO_AUTHERROR"})}))(e=>{const a={value:"",valid:!1},t=Object(r.useState)(a),o=Object(h.a)(t,2),i=o[0],l=o[1],c=Object(r.useState)(a),s=Object(h.a)(c,2),d=s[0],u=s[1],m=Object(r.useState)(!1),v=Object(h.a)(m,2),g=v[0],E=v[1],b=e=>{13===(e.keyCode||e.which)&&(e.preventDefault(),p())},p=a=>{E(!0),e.loginHandler({email:i.value,password:d.value})};return n.a.createElement("div",{className:"login-main-div"},n.a.createElement("div",{className:"title-div"},n.a.createElement("h2",{className:"title-login"},"Login"),e.authError?n.a.createElement("p",{className:"error"},"Invalid Credentials"):null),n.a.createElement("form",{className:"input-form-login"},n.a.createElement(C.a,{onKeyUp:b,error:!i.valid&&g,type:"email",onChange:a=>{e.noAuthError();E(!1);const t=a.target.value,r=""!==t&&/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(t);l({value:t,valid:r})},name:"email",label:"Email",variant:"outlined"}),n.a.createElement(C.a,{onKeyUp:b,error:!d.valid&&g,onChange:a=>{e.noAuthError(),E(!1);const t=a.target.value;u({value:t,valid:""!==t})},type:"password",name:"password",label:"Password",variant:"outlined"}),n.a.createElement(f.a,{disabled:!(i.valid&&d.valid),onClick:p,variant:"contained",color:"primary"},g&&!e.authError?n.a.createElement(k.a,{size:"sm",color:"light"}):n.a.createElement("p",{style:{padding:"0",margin:"0"}},"Login"))))});var I=Object(c.b)(e=>({auth:e.firebase.auth}),e=>({}))(e=>{let a=n.a.createElement(k.a,{style:{width:"3rem",height:"3rem"},color:"light",type:"grow"});return e.auth.uid?a=n.a.createElement(S,null):e.auth.isEmpty&&(a=n.a.createElement(A,null)),e.auth.isLoaded||(a=n.a.createElement("div",{style:{width:"inherit",height:"500px",padding:"128px"}},n.a.createElement(k.a,{style:{width:"6rem",height:"6rem"},color:"primary"}))),n.a.createElement("div",{className:"App"},a)});t(460);const U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function L(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const a=e.installing;a.onstatechange=()=>{"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(e=>{console.error("Error during service worker registration:",e)})}const D={authError:!1,isUserLoggedIn:!1,isLoggedOut:!0};var _=(e=D,a)=>{switch(a.type){case"LOGIN_BACK_CLICKED":case"NO_AUTHERROR":return Object(E.a)({},e,{authError:!1});case"LOGOUT":return Object(E.a)({},e,{isLoggedOut:!0});case"ADMIN":return Object(E.a)({},e,{isAdminLoggedIn:!0});case"LOGIN_ERROR":return console.log("Invalid Credentials"),Object(E.a)({},e,{authError:!0});case"LOGIN_SUCCESS":return console.log("Login Success"),Object(E.a)({},e,{authError:null,isLoggedOut:!1});case"SIGNUP_SUCCESS":return console.log("Signup Success"),Object(E.a)({},e,{authError:null,isLoggedOut:!1});default:return e}};const T={isCreated:!1};var F=(e=T,a)=>{switch(a.type){case"REMINDER_CREATED_SUCCESS":return Object(E.a)({},e,{isCreated:!0});case"NOT_CREATED":return Object(E.a)({},e,{isCreated:!1});default:return e}};var x=Object(l.c)({authReducer:_,firebase:d.firebaseReducer,inputReducer:F});const K=Object(l.e)(x,Object(l.d)(Object(l.a)(s.a.withExtraArgument({getFirebase:d.getFirebase,getFirestore:u.getFirestore})),Object(u.reduxFirestore)(g),Object(d.reactReduxFirebase)(g)));i.a.render(n.a.createElement(c.a,{store:K},n.a.createElement(I,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/reminder",window.location).origin!==window.location.origin)return;window.addEventListener("load",()=>{const e="".concat("/reminder","/service-worker.js");U?(!function(e){fetch(e).then(a=>{404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):L(e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):L(e)})}}()}},[[267,1,2]]]);
//# sourceMappingURL=main.39dc84e0.chunk.js.map